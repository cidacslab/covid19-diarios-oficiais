<!DOCTYPE html>
<html>
  <body>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <svg id="canvas"></svg>
    <script>
      // setting the data up
      data = [{
        x: '25%',
        y: '25%',
        r: '5%',
        c: 'red'
      },{
        x: '50%',
        y: '50%',
        r: '5%',
        c: 'green'
      },{
        x: '75%',
        y: '75%',
        r: '5%',
        c: 'blue'
      }]
      // selecting canvas
      var canvas = d3.select('#canvas')
      // bind data to the DOM
      // notice that we don't create the shapes yet
      // this only prepares d3 for the possibility of selecting circle elements
      // based on the data
      var circles = canvas
        .selectAll('circle')
        .data(data);
      // this appends the circle ellements to the canvas
      circles
        .enter()
        // this method takes the selections and filter them that
        // only selection to new elements remain
        .append('circle')
        .attr('cx', function(d) {
          return d.x;
        })
        .attr('cy', function(d) {
          return d.y;
        })
        .attr('fill', function(d) {
          return d.c;
        })
        .attr('r', function(d) {
          return d.r;
        })
      // adding new data
      data.push({
        x: '20%',
        y: '80%',
        r: '5%',
        c: 'magenta'})
      // creating new data
      data[1].x = '0%'
      data[1].y = '0%'
      // tell d3 about the change
      var circles = canvas
        .selectAll('circle')
        .data(data);
      // if we just want to add new elements
      circles
        // if you want to just update some elements you need to comment out
        // .enter and .append('')
        .enter()
        // this method takes the selections and filter them that
        // only selection to new elements remain
        .append('circle')
        .attr('cx', function(d) {
          return d.x;
        })
        .attr('cy', function(d) {
          return d.y;
        })
        .attr('fill', function(d) {
          return d.c;
        })
        .attr('r', function(d) {
          return d.r;
        })
      //
    </script>
  </body>
</html>
